"use client";
import React, { useState } from 'react'

const CommentInteractions = () => {
    const likeFilledSvg = `<svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.6782 0.889186L5.79725 5.74789C5.47127 6.07239 5.28625 6.51967 5.28625 6.9845V15.746C5.28625 16.7107 6.07919 17.5 7.04833 17.5H14.9777C15.6825 17.5 16.3169 17.079 16.5988 16.4388L19.471 9.76466C20.2111 8.02815 18.9336 6.0987 17.0393 6.0987H12.0615L12.8984 2.08194C12.9866 1.64343 12.8544 1.19614 12.5372 0.880416C12.0174 0.371742 11.1892 0.371742 10.6782 0.889186ZM1.76208 17.5C2.73123 17.5 3.52417 16.7107 3.52417 15.746V8.72977C3.52417 7.76505 2.73123 6.97573 1.76208 6.97573C0.792937 6.97573 0 7.76505 0 8.72977V15.746C0 16.7107 0.792937 17.5 1.76208 17.5Z" fill="#22B573"/>
</svg>
`
const likeSvg = `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.43862 7.69167H3.55079C2.87466 7.69306 2.22658 7.99386 1.74848 8.52821C1.27038 9.06255 1.00124 9.78688 1 10.5426V18.3282C1.00124 19.0839 1.27038 19.8082 1.74848 20.3425C2.22658 20.8769 2.87466 21.1777 3.55079 21.1791H16.8787C17.4772 21.1787 18.0566 20.9433 18.5156 20.514C18.9746 20.0848 19.2841 19.4889 19.39 18.8305L20.6441 11.0483C20.71 10.6376 20.6945 10.2158 20.5988 9.81262C20.503 9.40939 20.3293 9.03455 20.0898 8.71451C19.8504 8.39447 19.551 8.13702 19.2129 7.96029C18.8748 7.78357 18.5061 7.69189 18.1328 7.69169H13.5596V3.57828C13.5596 3.02156 13.4089 2.47787 13.1272 2.01874C12.8454 1.55962 12.446 1.20656 11.9813 1.00602C11.5166 0.805479 11.0085 0.766853 10.5238 0.895221C10.0391 1.02359 9.60053 1.31294 9.26578 1.7252L9.26272 1.72858C8.16957 3.08953 7.58954 5.21072 6.97012 6.73119C6.86572 7.00301 6.73863 7.26324 6.59054 7.50841C6.5444 7.57396 6.49357 7.63524 6.43862 7.69167ZM5.44564 18.7354H3.55077C3.50259 18.7355 3.4549 18.7247 3.41054 18.7037C3.36618 18.6827 3.32606 18.652 3.29258 18.6133C3.25867 18.5761 3.2318 18.5318 3.21355 18.4828C3.1953 18.4338 3.18607 18.3812 3.18638 18.3282V10.5425C3.18607 10.4895 3.1953 10.4369 3.21355 10.3879C3.2318 10.339 3.25867 10.2946 3.29258 10.2575C3.32606 10.2187 3.36618 10.188 3.41054 10.167C3.4549 10.146 3.50259 10.1352 3.55077 10.1353H5.44564V18.7354ZM7.63203 9.7416C8.03899 9.42019 8.37454 8.99871 8.61287 8.50959C9.02435 7.60476 9.38936 6.67446 9.70612 5.7232C9.98098 4.87032 10.379 4.07353 10.8843 3.36446C10.923 3.31829 10.9731 3.28593 11.0282 3.27144C11.0833 3.25695 11.141 3.26097 11.1941 3.28301C11.2473 3.30597 11.293 3.34655 11.325 3.39931C11.357 3.45207 11.3738 3.5145 11.3732 3.57824V8.91347C11.3731 9.07395 11.4013 9.23288 11.4562 9.38117C11.5111 9.52946 11.5917 9.66419 11.6932 9.77767C11.7947 9.89115 11.9153 9.98114 12.048 10.0425C12.1807 10.1039 12.3229 10.1354 12.4664 10.1353H18.1328C18.1864 10.1352 18.2393 10.1486 18.2877 10.1745C18.336 10.2003 18.3786 10.2379 18.4122 10.2846C18.4469 10.3297 18.4721 10.3831 18.4858 10.4408C18.4995 10.4984 18.5014 10.5587 18.4912 10.6172L17.237 18.3994C17.2215 18.4932 17.1772 18.578 17.1118 18.6393C17.0465 18.7006 16.9641 18.7346 16.8787 18.7354H7.63204L7.63203 9.7416Z" fill="#ADB5BD" stroke="white"/>
</svg>
`
const disLikeSvg = `<svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.1583 13.0076H18.0925C18.7795 13.0063 19.438 12.7329 19.9237 12.2471C20.4095 11.7613 20.6829 11.1028 20.6842 10.4159V3.33801C20.6829 2.65104 20.4095 1.99256 19.9237 1.50679C19.438 1.02102 18.7795 0.747564 18.0925 0.746302H4.55079C3.94266 0.746637 3.35399 0.960625 2.8876 1.35088C2.42122 1.74113 2.10677 2.28284 1.9992 2.88138L0.724953 9.95613C0.657993 10.3294 0.673721 10.7129 0.771029 11.0794C0.868334 11.446 1.04485 11.7868 1.28814 12.0777C1.53143 12.3687 1.83557 12.6027 2.17912 12.7634C2.52268 12.924 2.89728 13.0074 3.27654 13.0076H7.92311V16.747C7.92309 17.2531 8.07627 17.7474 8.36251 18.1648C8.64875 18.5822 9.05463 18.9031 9.52677 19.0854C9.9989 19.2677 10.5152 19.3029 11.0076 19.1862C11.5001 19.0695 11.9457 18.8064 12.2858 18.4316L12.2889 18.4286C13.3996 17.1913 13.989 15.263 14.6183 13.8807C14.7244 13.6336 14.8535 13.3971 15.004 13.1742C15.0509 13.1146 15.1025 13.0589 15.1583 13.0076ZM16.1673 2.96779H18.0925C18.1415 2.96772 18.1899 2.97752 18.235 2.99661C18.2801 3.01569 18.3208 3.04367 18.3548 3.07887C18.3893 3.11261 18.4166 3.15295 18.4352 3.19748C18.4537 3.242 18.4631 3.28981 18.4628 3.33804V10.4159C18.4631 10.4641 18.4537 10.5119 18.4352 10.5564C18.4166 10.601 18.3893 10.6413 18.3548 10.675C18.3208 10.7102 18.2801 10.7382 18.235 10.7573C18.1899 10.7764 18.1415 10.7862 18.0925 10.7861H16.1673V2.96779ZM13.9458 11.144C13.5323 11.4362 13.1914 11.8194 12.9492 12.264C12.5311 13.0866 12.1603 13.9323 11.8384 14.7971C11.5591 15.5724 11.1548 16.2968 10.6413 16.9414C10.602 16.9834 10.5511 17.0128 10.4951 17.026C10.4391 17.0391 10.3805 17.0355 10.3266 17.0155C10.2725 16.9946 10.2261 16.9577 10.1936 16.9097C10.1611 16.8618 10.144 16.805 10.1446 16.7471V11.8969C10.1447 11.751 10.116 11.6065 10.0602 11.4717C10.0044 11.3369 9.92263 11.2144 9.81946 11.1112C9.7163 11.008 9.59381 10.9262 9.459 10.8705C9.32419 10.8147 9.1797 10.786 9.03381 10.7861H3.27651C3.22206 10.7862 3.16831 10.774 3.1192 10.7505C3.07008 10.727 3.02686 10.6928 2.99272 10.6504C2.95737 10.6093 2.93178 10.5608 2.91787 10.5084C2.90396 10.456 2.90209 10.4012 2.9124 10.348L4.18673 3.27325C4.20252 3.188 4.24748 3.1109 4.31389 3.05516C4.38031 2.99943 4.46405 2.96855 4.55075 2.96781H13.9458L13.9458 11.144Z" fill="#ADB5BD" stroke="white"/>
</svg>
`
const disLikeFilledSvg = `<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.83468 19.065L14.794 13.6347C15.1252 13.272 15.3132 12.7721 15.3132 12.2526V2.4604C15.3132 1.38218 14.5075 0.5 13.5228 0.5H5.46622C4.75008 0.5 4.10555 0.970495 3.8191 1.68604L0.900826 9.14538C0.148876 11.0862 1.44688 13.2426 3.37151 13.2426H8.42925L7.57884 17.732C7.48932 18.2221 7.6236 18.722 7.94586 19.0748C8.47401 19.6433 9.31548 19.6433 9.83468 19.065ZM18.8939 0.5C17.9092 0.5 17.1035 1.38218 17.1035 2.4604V10.302C17.1035 11.3802 17.9092 12.2624 18.8939 12.2624C19.8786 12.2624 20.6842 11.3802 20.6842 10.302V2.4604C20.6842 1.38218 19.8786 0.5 18.8939 0.5Z" fill="#DC3545"/>
</svg>
`
const replySvg = `<svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.63683 0.750967C4.78915 0.91171 4.87471 1.12969 4.87471 1.35698C4.87471 1.58426 4.78915 1.80225 4.63683 1.96299L2.77374 3.92845H7.31243C8.82085 3.92845 10.2675 4.5606 11.3341 5.68584C12.4008 6.81105 13 8.33721 13 9.92853V11.6428C13 11.8702 12.9144 12.0882 12.762 12.2489C12.6097 12.4097 12.403 12.5 12.1875 12.5C11.972 12.5 11.7653 12.4097 11.613 12.2489C11.4605 12.0882 11.375 11.8702 11.375 11.6428V9.92853C11.375 8.79185 10.9469 7.7018 10.1851 6.89805C9.42317 6.0943 8.3899 5.64277 7.31243 5.64277H2.77374L4.63683 7.6082C4.71443 7.68732 4.77632 7.78186 4.81891 7.88644C4.86149 7.99101 4.8839 8.10355 4.88484 8.2173C4.88578 8.33113 4.86522 8.44402 4.82437 8.54936C4.78352 8.65471 4.72318 8.75036 4.64689 8.83085C4.57061 8.91134 4.47989 8.97503 4.38003 9.01814C4.28017 9.06117 4.17318 9.08286 4.06531 9.08191C3.95742 9.08088 3.8508 9.05723 3.75167 9.01231C3.65254 8.9674 3.56288 8.90208 3.48794 8.82022L0.237895 5.39162C0.0855735 5.23088 0 5.01289 0 4.78561C0 4.55832 0.0855735 4.34034 0.237895 4.1796L3.48794 0.750967C3.6403 0.590276 3.84693 0.5 4.06238 0.5C4.27783 0.5 4.48446 0.590276 4.63683 0.750967Z" fill="#495057"/>
</svg>
`

// Handling Like and Dislike
const [likes, setLikes] = useState(231);
const [dislikes, setDislikes] = useState(23);
const [userVote, setUserVote] = useState<'like' | 'dislike' | null>(null); // Track user vote

const handleLike = () => {
  if (userVote === 'like') {
    // If already liked, remove like
    setLikes(likes - 1);
    setUserVote(null);
  } else {
    // If disliked, remove dislike and add like
    if (userVote === 'dislike') {
      setDislikes(dislikes - 1);
    }
    setLikes(likes + 1);
    setUserVote('like');
  }
};

const handleDislike = () => {
  if (userVote === 'dislike') {
    // If already disliked, remove dislike
    setDislikes(dislikes - 1);
    setUserVote(null);
  } else {
    // If liked, remove like and add dislike
    if (userVote === 'like') {
      setLikes(likes - 1);
    }
    setDislikes(dislikes + 1);
    setUserVote('dislike');
  }
};

  return (
    <div className='inline-flex justify-between items-center w-fit gap-3 p-4'>
        {/* Like */}
        <div className='flex gap-2 items-center '>
            { userVote === 'like' ? 
                <span dangerouslySetInnerHTML={{__html: likeFilledSvg}} 
                className='cursor-pointer' 
                onClick={handleLike} 
                style={{fill: '#22B573' }} 
                /> 
                : 
                <span dangerouslySetInnerHTML={{__html: likeSvg}} 
                className='cursor-pointer' 
                onClick={handleLike} 
                style={{ fill: '#ff0000' }} 
                />    
        }
            <p className='text-sm font-semibold text-gray-600'>{likes}</p>
        </div>

        {/* Dislike */}
        <div className='flex gap-2 items-center'>
            { userVote === 'dislike' ? 
                <span dangerouslySetInnerHTML={{__html: disLikeFilledSvg}} 
                className='cursor-pointer' 
                onClick={handleDislike} 
                style={{fill: '#DC3545' }} 
                /> 
                : 
                <span dangerouslySetInnerHTML={{__html: disLikeSvg}} 
                className='cursor-pointer' 
                onClick={handleDislike} 
                style={{ fill: '#ADB5BD' }} 
                />    
            }
            <p className='text-sm font-semibold text-gray-600'>{dislikes}</p>
           
        </div>

        {/* Reply */}
        <div className='flex gap-2 items-center border border-gray-300 p-1 px-2 rounded-lg cursor-pointer'>
            <span dangerouslySetInnerHTML={{__html: replySvg}} />
            <p className='text-xs text-gray-600'>Reply</p>
        </div>

    </div>
  )
}

export default CommentInteractions